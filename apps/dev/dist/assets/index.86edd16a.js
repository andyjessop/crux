(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerpolicy&&(i.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?i.credentials="include":r.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();function z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,o)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?x(Object(n),!0).forEach(function(o){z(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function E(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var M=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),D=function(){return Math.random().toString(36).substring(7).split("").join(".")},S={INIT:"@@redux/INIT"+D(),REPLACE:"@@redux/REPLACE"+D(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+D()}};function G(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function $(e,t,n){var o;if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(E(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(E(1));return n($)(e,t)}if(typeof e!="function")throw new Error(E(2));var r=e,i=t,s=[],c=s,u=!1;function v(){c===s&&(c=s.slice())}function w(){if(u)throw new Error(E(3));return i}function d(a){if(typeof a!="function")throw new Error(E(4));if(u)throw new Error(E(5));var h=!0;return v(),c.push(a),function(){if(!!h){if(u)throw new Error(E(6));h=!1,v();var l=c.indexOf(a);c.splice(l,1),s=null}}}function y(a){if(!G(a))throw new Error(E(7));if(typeof a.type>"u")throw new Error(E(8));if(u)throw new Error(E(9));try{u=!0,i=r(i,a)}finally{u=!1}for(var h=s=c,m=0;m<h.length;m++){var l=h[m];l()}return a}function f(a){if(typeof a!="function")throw new Error(E(10));r=a,y({type:S.REPLACE})}function g(){var a,h=d;return a={subscribe:function(l){if(typeof l!="object"||l===null)throw new Error(E(11));function O(){l.next&&l.next(w())}O();var R=h(O);return{unsubscribe:R}}},a[M]=function(){return this},a}return y({type:S.INIT}),o={dispatch:y,subscribe:d,getState:w,replaceReducer:f},o[M]=g,o}var H=$;function J(e){Object.keys(e).forEach(function(t){var n=e[t],o=n(void 0,{type:S.INIT});if(typeof o>"u")throw new Error(E(12));if(typeof n(void 0,{type:S.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(E(13))})}function U(e){for(var t=Object.keys(e),n={},o=0;o<t.length;o++){var r=t[o];typeof e[r]=="function"&&(n[r]=e[r])}var i=Object.keys(n),s;try{J(n)}catch(c){s=c}return function(u,v){if(u===void 0&&(u={}),s)throw s;for(var w=!1,d={},y=0;y<i.length;y++){var f=i[y],g=n[f],a=u[f],h=g(a,v);if(typeof h>"u")throw v&&v.type,new Error(E(14));d[f]=h,w=w||h!==a}return w=w||i.length!==Object.keys(u).length,w?d:u}}function L(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.length===0?function(o){return o}:t.length===1?t[0]:t.reduce(function(o,r){return function(){return o(r.apply(void 0,arguments))}})}function Q(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(o){return function(){var r=o.apply(void 0,arguments),i=function(){throw new Error(E(15))},s={getState:r.getState,dispatch:function(){return i.apply(void 0,arguments)}},c=t.map(function(u){return u(s)});return i=L.apply(void 0,c)(r.dispatch),C(C({},r),{},{dispatch:i})}}}const Y=()=>{const e=[];return{middleware:({getState:t,dispatch:n})=>o=>r=>{const i={getState:t,dispatch:c=>n(c)},s=e.map(c=>c(i));return L(...s)(o)(r)},add:(t,n)=>(n===void 0?e.push(t):e.splice(n,0,t),()=>{const o=e.findIndex(r=>r===t);o<0||e.splice(o,1)}),getIndex:t=>e.findIndex(n=>n===t)}},Z=()=>{const e=new Map;let t=o=>o||{};return{add:n,reducer:(o,r)=>t(o,r)};function n(o,r){return e.set(o,r),t=U(Object.fromEntries(e)),function(){e.delete(o),t=U(Object.fromEntries(e))}}};function F({isDev:e}={isDev:!0}){const t=Y(),n=Z(),o=Q(t.middleware),r=e&&typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||L,i=H(n.reducer,{},r(o));return{addMiddleware:t.add,addReducer:(u,v)=>{const w=n.add(u,v);return i.dispatch({type:"__cruxRegistry/ADD_REDUCER",payload:{id:u}}),w},...i}}function ee({root:e,slices:t,subscriptions:n=[],views:o},{emitter:r,store:i=F()}={}){e||console.info("No root element provided. Running in headless mode.");const s=d=>y=>async f=>{var R,V;if(y(f),f.type==="__cruxRegistry/ADD_REDUCER")return;const g=d.getState();r==null||r.emit("afterReducer",{action:f,state:g});const a=[];for(const p of t){p.getStore()||p.bindStore(i);const b=p.getUnregister(),j=(V=(R=p.shouldBeEnabled)==null?void 0:R.call(p,d.getState()))!=null?V:!0;b&&!j&&b(),!b&&j&&a.push(p)}await Promise.all(a.map(p=>p.getInstance())),r==null||r.emit("afterSlices",{action:f,state:g});const h=o.find(p=>p.root==="root");if(!h)throw new Error("No layout view found");const m=e!=null?e:{id:"root"};await h.render(m,d.getState()),r==null||r.emit("afterLayout",{action:f,state:g});const l=[];for(const p of o)if(p.root!=="root"&&p.root){const b=e?document.querySelector(`[data-crux-root=${p.root}]`):{id:p.root};if(!b)throw new Error(`Could not find root element with data-crux-root=${p.root}`);l.push({view:p,root:b})}const O=d.getState();await Promise.all(l.map(({view:p,root:b})=>p.render(b,O))),r==null||r.emit("afterViews",{action:f,state:g});for(const p of n)p.runSubscription(d.getState());r==null||r.emit("afterSubscriptions",{action:f,state:g})};return i.addMiddleware(s),i.dispatch({type:"xapp/init"}),{...r,addSlice:u,addSubscription:w,addView:v,store:i};function c(d,y){return d.push(y),()=>{const f=d.indexOf(y);f>-1&&d.splice(f,1)}}function u(d){c(t,d)}function v(d){c(o,d)}function w(d){c(n,d)}}function I(e,t={deps:[]}){const{deps:n}=t;let o,r;return{getAPI:i,getInstance:i,instance:o,promise:r};async function i(){if(o)return o;const s=await Promise.all(n.map(u=>u.getAPI())),c=e(...s);return c instanceof Promise?(c.then(u=>{o=u}),c):(o=c,o)}}function te(e=10){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";return new Array(e).fill(0).reduce(n=>n+t.charAt(Math.floor(Math.random()*t.length)),"")}function P(e,t={deps:[],shouldBeEnabled:()=>!0,name:te()}){const{deps:n,shouldBeEnabled:o,name:r}=t;let i,s,c,u;return{bindStore:v,getAPI:d,getInstance:w,getPromise:()=>s,getStore:y,getUnregister:()=>u,name:r,register:f,selector:g,shouldBeEnabled:o,store:c};function v(a){c=a}async function w(){if(!c)throw new Error("Cannot get slice before binding store");return i||s||(s=new Promise((a,h)=>{Promise.all((n||[]).map(m=>m.getAPI())).then(m=>{const l=e(...m);l instanceof Promise?l.then(O=>{i=O,(O.middleware||O.reducer)&&!u&&f(O.middleware,O.reducer),a(i)}).catch(O=>{h(O)}):(i=l,(l.middleware||l.reducer)&&!u&&f(l.middleware,l.reducer),a(i))})}),s)}async function d(){return(await w()).api}function y(){return c}function f(a,h){if(!a||!h)return;if(!c)throw new Error("Cannot get slice before binding store");let m,l;a&&(m=c.addMiddleware(a)),h&&(l=c.addReducer(r,h)),u=()=>{l==null||l(),m==null||m()}}function g(a){return a[r]}}function A(e,t){const{actions:n,data:o,root:r}=t;let i,s,c,u,v;return{get:w,getCurrentData:()=>i,instance:s,promise:c,render:y,root:r,updateData:d};async function w(){if(s)return s;const f=e();return f instanceof Promise?(f.then(g=>{s=g}),f):(s=f,s)}function d(f){const g=o(f);return g!==i?(i=g,!0):!1}async function y(f,g){if(s||await w(),!s)throw new Error("Could not get view instance");if(!d(g))return;const a=n?await n.getAPI():void 0;return v===f&&u||(u=s(f),v=f),u(i,a)}}const re="modulepreload",ne=function(e){return"/"+e},B={},_=function(t,n,o){return!n||n.length===0?t():Promise.all(n.map(r=>{if(r=ne(r),r in B)return;B[r]=!0;const i=r.endsWith(".css"),s=i?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${r}"]${s}`))return;const c=document.createElement("link");if(c.rel=i?"stylesheet":re,i||(c.as="script",c.crossOrigin=""),c.href=r,document.head.appendChild(c),i)return new Promise((u,v)=>{c.addEventListener("load",u),c.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${r}`)))})})).then(()=>t())},N=P(()=>_(()=>import("./toaster.slice.93497ae4.js"),["assets/toaster.slice.93497ae4.js","assets/slice.ceea3f84.js","assets/any.07715dce.js"]).then(e=>e.createToasterSlice("toaster")),{name:"toaster"}),oe=I(e=>_(()=>import("./toaster.service.bbead27d.js"),[]).then(t=>t.toaster(e)),{deps:[N]}),ie=A(()=>_(()=>import("./toaster.view.0486d214.js"),["assets/toaster.view.0486d214.js","assets/toaster.view.02522255.css","assets/lit-html.c1443299.js","assets/repeat.8b84cb03.js","assets/classes.1cc075b4.js"]).then(e=>e.toasterView),{actions:oe,data:N.selector,root:"toaster"}),K=P(()=>_(()=>import("./layout.slice.203a616c.js"),["assets/layout.slice.203a616c.js","assets/slice.ceea3f84.js"]).then(e=>e.createLayoutSlice("layout")),{name:"layout"}),ce=A(()=>_(()=>import("./layout.view.1c39dbdb.js"),["assets/layout.view.1c39dbdb.js","assets/layout.view.90a1de6d.css","assets/lit-html.c1443299.js"]).then(e=>e.createLayoutView),{data:K.selector,root:"root"}),W={projects:"/projects",project:"/projects/:projectId",todos:"/todos"},k=P(()=>_(()=>import("./router.slice.92e94044.js"),["assets/router.slice.92e94044.js","assets/slice.ceea3f84.js","assets/any.07715dce.js","assets/get-route-from-url.1ff994d5.js"]).then(e=>e.createRouterSlice(W)),{name:"router"}),se=I(e=>_(()=>import("./router.service.9c272ca9.js"),["assets/router.service.9c272ca9.js","assets/get-route-from-url.1ff994d5.js"]).then(t=>t.router(W,e)),{deps:[k]}),q=I(()=>_(()=>import("./cache.service.a25ce58d.js"),[]).then(e=>e.cache())),T=P(e=>_(()=>import("./dark-mode.slice.6012b295.js"),["assets/dark-mode.slice.6012b295.js","assets/slice.ceea3f84.js","assets/any.07715dce.js","assets/dark-mode.config.2f3f9c98.js"]).then(t=>t.createDarkModeSlice(e)),{deps:[q],name:"darkMode"}),ue=I((e,t)=>_(()=>import("./dark-mode.service.bc3bf735.js"),["assets/dark-mode.service.bc3bf735.js","assets/dark-mode.config.2f3f9c98.js"]).then(n=>n.darkMode(e,t)),{deps:[T,q]}),ae=A(()=>_(()=>import("./dark-mode.view.3903d4a0.js"),["assets/dark-mode.view.3903d4a0.js","assets/dark-mode.view.8371f802.css","assets/lit-html.c1443299.js","assets/classes.1cc075b4.js"]).then(e=>e.createDarkModeView),{actions:ue,data:T.selector,root:"dark-mode-toggle"}),X=P(()=>_(()=>import("./nav.slice.b1c9650a.js"),["assets/nav.slice.b1c9650a.js","assets/slice.ceea3f84.js"]).then(e=>e.createNavSlice("nav")),{name:"nav"}),fe=A(()=>_(()=>import("./nav.view.f2bb9d19.js"),["assets/nav.view.f2bb9d19.js","assets/nav.view.06797d89.css","assets/lit-html.c1443299.js","assets/repeat.8b84cb03.js"]).then(e=>e.navView),{actions:se,data:X.selector,root:"nav"});de();async function de(){const e=document.getElementById("root");if(!e)throw"No root found!!";ee({root:e,slices:[K,X,k,N,T],views:[ce,fe,ie,ae]})}export{te as g};
